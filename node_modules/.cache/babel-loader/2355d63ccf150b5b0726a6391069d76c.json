{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// Libraries\nimport{useContext,useRef}from\"react\";import{ColorPickerContext}from\"../../utils/ColorPickerProvider\";// Styles\nimport{HueSliderContainer,HueSliderHandle,HueSliderHandleCaret}from\"./styles\";// Utils\nimport{HUE_MIN,HUE_MAX}from\"utils\";var HueSlider=function HueSlider(_ref){var height=_ref.height;var _useContext=useContext(ColorPickerContext),hue=_useContext.hsv.hue,handleChangeHsv=_useContext.handleChangeHsv;var sliderRef=useRef(null);var handleChangeHue=function handleChangeHue(pageY){if(!sliderRef.current){return;}var _sliderRef$current$ge=sliderRef.current.getBoundingClientRect(),top=_sliderRef$current$ge.top;var sliderY=pageY-top;var newHue=Math.abs(Math.max(Math.min(Math.round(sliderY/height*HUE_MAX),HUE_MAX),HUE_MIN)-HUE_MAX);handleChangeHsv({hue:newHue});};var handleDrag=function handleDrag(e){handleChangeHue(e.pageY);};var handleStartDrag=function handleStartDrag(e){handleChangeHue(e.pageY);window.addEventListener(\"mousemove\",handleDrag);window.addEventListener(\"mouseup\",handleStopDrag);};var handleStopDrag=function handleStopDrag(){window.removeEventListener(\"mousemove\",handleDrag);window.removeEventListener(\"mouseup\",handleStopDrag);};return/*#__PURE__*/_jsx(HueSliderContainer,{height:height,onMouseDown:handleStartDrag,ref:sliderRef,children:/*#__PURE__*/_jsxs(HueSliderHandle,{hue:hue,children:[/*#__PURE__*/_jsx(HueSliderHandleCaret,{}),/*#__PURE__*/_jsx(HueSliderHandleCaret,{})]})});};export default HueSlider;","map":{"version":3,"sources":["/Users/alex/color-pickler/src/components/HueSlider/index.tsx"],"names":["useContext","useRef","ColorPickerContext","HueSliderContainer","HueSliderHandle","HueSliderHandleCaret","HUE_MIN","HUE_MAX","HueSlider","height","hue","hsv","handleChangeHsv","sliderRef","handleChangeHue","pageY","current","getBoundingClientRect","top","sliderY","newHue","Math","abs","max","min","round","handleDrag","e","handleStartDrag","window","addEventListener","handleStopDrag","removeEventListener"],"mappings":"wFAAA;AACA,OAA4CA,UAA5C,CAAwDC,MAAxD,KAAsE,OAAtE,CACA,OAASC,kBAAT,KAAmC,iCAAnC,CAEA;AACA,OACEC,kBADF,CAEEC,eAFF,CAGEC,oBAHF,KAIO,UAJP,CAMA;AACA,OAASC,OAAT,CAAkBC,OAAlB,KAAiC,OAAjC,CAMA,GAAMC,CAAAA,SAA6B,CAAG,QAAhCA,CAAAA,SAAgC,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,iBAIhDT,UAAU,CAACE,kBAAD,CAJsC,CAE3CQ,GAF2C,aAElDC,GAFkD,CAE3CD,GAF2C,CAGlDE,eAHkD,aAGlDA,eAHkD,CAKpD,GAAMC,CAAAA,SAAS,CAAGZ,MAAM,CAAiB,IAAjB,CAAxB,CAEA,GAAMa,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAyB,CAC/C,GAAI,CAACF,SAAS,CAACG,OAAf,CAAwB,CACtB,OACD,CAH8C,0BAI/BH,SAAS,CAACG,OAAV,CAAkBC,qBAAlB,EAJ+B,CAIvCC,GAJuC,uBAIvCA,GAJuC,CAK/C,GAAMC,CAAAA,OAAO,CAAGJ,KAAK,CAAGG,GAAxB,CACA,GAAME,CAAAA,MAAM,CAAGC,IAAI,CAACC,GAAL,CACbD,IAAI,CAACE,GAAL,CACEF,IAAI,CAACG,GAAL,CAASH,IAAI,CAACI,KAAL,CAAYN,OAAO,CAAGV,MAAX,CAAqBF,OAAhC,CAAT,CAAmDA,OAAnD,CADF,CAEED,OAFF,EAGIC,OAJS,CAAf,CAOAK,eAAe,CAAC,CAAEF,GAAG,CAAEU,MAAP,CAAD,CAAf,CACD,CAdD,CAgBA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAyB,CAC1Cb,eAAe,CAACa,CAAC,CAACZ,KAAH,CAAf,CACD,CAFD,CAIA,GAAMa,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACD,CAAD,CAA8C,CACpEb,eAAe,CAACa,CAAC,CAACZ,KAAH,CAAf,CACAc,MAAM,CAACC,gBAAP,CAAwB,WAAxB,CAAqCJ,UAArC,EACAG,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCC,cAAnC,EACD,CAJD,CAMA,GAAMA,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAY,CACjCF,MAAM,CAACG,mBAAP,CAA2B,WAA3B,CAAwCN,UAAxC,EACAG,MAAM,CAACG,mBAAP,CAA2B,SAA3B,CAAsCD,cAAtC,EACD,CAHD,CAKA,mBACE,KAAC,kBAAD,EACE,MAAM,CAAEtB,MADV,CAEE,WAAW,CAAEmB,eAFf,CAGE,GAAG,CAAEf,SAHP,uBAKE,MAAC,eAAD,EAAiB,GAAG,CAAEH,GAAtB,wBACE,KAAC,oBAAD,IADF,cAEE,KAAC,oBAAD,IAFF,GALF,EADF,CAYD,CAlDD,CAoDA,cAAeF,CAAAA,SAAf","sourcesContent":["// Libraries\nimport { FC, MouseEvent as ReactMouseEvent, useContext, useRef } from \"react\";\nimport { ColorPickerContext } from \"../../utils/ColorPickerProvider\";\n\n// Styles\nimport {\n  HueSliderContainer,\n  HueSliderHandle,\n  HueSliderHandleCaret,\n} from \"./styles\";\n\n// Utils\nimport { HUE_MIN, HUE_MAX } from \"utils\";\n\ninterface HueSliderProps {\n  height: number;\n}\n\nconst HueSlider: FC<HueSliderProps> = ({ height }) => {\n  const {\n    hsv: { hue },\n    handleChangeHsv,\n  } = useContext(ColorPickerContext);\n  const sliderRef = useRef<HTMLDivElement>(null);\n\n  const handleChangeHue = (pageY: number): void => {\n    if (!sliderRef.current) {\n      return;\n    }\n    const { top } = sliderRef.current.getBoundingClientRect();\n    const sliderY = pageY - top;\n    const newHue = Math.abs(\n      Math.max(\n        Math.min(Math.round((sliderY / height) * HUE_MAX), HUE_MAX),\n        HUE_MIN\n      ) - HUE_MAX\n    );\n\n    handleChangeHsv({ hue: newHue });\n  };\n\n  const handleDrag = (e: MouseEvent): void => {\n    handleChangeHue(e.pageY);\n  };\n\n  const handleStartDrag = (e: ReactMouseEvent<HTMLDivElement>): void => {\n    handleChangeHue(e.pageY);\n    window.addEventListener(\"mousemove\", handleDrag);\n    window.addEventListener(\"mouseup\", handleStopDrag);\n  };\n\n  const handleStopDrag = (): void => {\n    window.removeEventListener(\"mousemove\", handleDrag);\n    window.removeEventListener(\"mouseup\", handleStopDrag);\n  };\n\n  return (\n    <HueSliderContainer\n      height={height}\n      onMouseDown={handleStartDrag}\n      ref={sliderRef}\n    >\n      <HueSliderHandle hue={hue}>\n        <HueSliderHandleCaret />\n        <HueSliderHandleCaret />\n      </HueSliderHandle>\n    </HueSliderContainer>\n  );\n};\n\nexport default HueSlider;\n"]},"metadata":{},"sourceType":"module"}