{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// Libraries\nimport{useContext,useRef}from\"react\";import{ColorPickerContext}from\"../../utils/ColorPickerProvider\";// Styles\nimport{MatrixSliderContainer,MatrixSliderHandle,MatrixSliderBlackGradient,MatrixSliderWhiteGradient}from\"./styles\";// Utils\nimport{HueToHex}from\"utils\";var MatrixSlider=function MatrixSlider(_ref){var size=_ref.size;var _useContext=useContext(ColorPickerContext),hex=_useContext.hex,_useContext$hsv=_useContext.hsv,hue=_useContext$hsv.hue,saturation=_useContext$hsv.saturation,value=_useContext$hsv.value,handleChangeHsv=_useContext.handleChangeHsv;var matrixRef=useRef(null);var handleChange=function handleChange(pageX,pageY){if(!matrixRef.current){return;}var _matrixRef$current$ge=matrixRef.current.getBoundingClientRect(),top=_matrixRef$current$ge.top,left=_matrixRef$current$ge.left;var matrixX=Math.min(Math.max(pageX-left,0),size);var matrixY=size-Math.min(Math.max(pageY-top,0),size);var newSaturation=parseFloat((matrixX/size).toFixed(2));var newValue=parseFloat((matrixY/size).toFixed(2));handleChangeHsv({saturation:newSaturation,value:newValue});};var handleDrag=function handleDrag(_ref2){var pageX=_ref2.pageX,pageY=_ref2.pageY;handleChange(pageX,pageY);};var handleStartDrag=function handleStartDrag(_ref3){var pageX=_ref3.pageX,pageY=_ref3.pageY;handleChange(pageX,pageY);window.addEventListener(\"mousemove\",handleDrag);window.addEventListener(\"mouseup\",handleStopDrag);};var handleStopDrag=function handleStopDrag(){window.removeEventListener(\"mousemove\",handleDrag);window.removeEventListener(\"mouseup\",handleStopDrag);};var x=saturation*100;var y=value*100;return/*#__PURE__*/_jsxs(MatrixSliderContainer,{color:HueToHex(hue),size:size,onMouseDown:handleStartDrag,ref:matrixRef,children:[/*#__PURE__*/_jsx(MatrixSliderHandle,{x:x,y:y,hex:hex}),/*#__PURE__*/_jsx(MatrixSliderWhiteGradient,{}),/*#__PURE__*/_jsx(MatrixSliderBlackGradient,{})]});};export default MatrixSlider;","map":{"version":3,"sources":["/Users/alex/color-pickler/src/components/MatrixSlider/index.tsx"],"names":["useContext","useRef","ColorPickerContext","MatrixSliderContainer","MatrixSliderHandle","MatrixSliderBlackGradient","MatrixSliderWhiteGradient","HueToHex","MatrixSlider","size","hex","hsv","hue","saturation","value","handleChangeHsv","matrixRef","handleChange","pageX","pageY","current","getBoundingClientRect","top","left","matrixX","Math","min","max","matrixY","newSaturation","parseFloat","toFixed","newValue","handleDrag","handleStartDrag","window","addEventListener","handleStopDrag","removeEventListener","x","y"],"mappings":"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","sourcesContent":["// Libraries\nimport { FC, MouseEvent as ReactMouseEvent, useContext, useRef } from \"react\";\nimport { ColorPickerContext } from \"../../utils/ColorPickerProvider\";\n\n// Styles\nimport {\n  MatrixSliderContainer,\n  MatrixSliderHandle,\n  MatrixSliderBlackGradient,\n  MatrixSliderWhiteGradient,\n} from \"./styles\";\n\n// Utils\nimport { HueToHex } from \"utils\";\n\ninterface MatrixSliderProps {\n  size: number;\n}\n\nconst MatrixSlider: FC<MatrixSliderProps> = ({ size }) => {\n  const {\n    hex,\n    hsv: { hue, saturation, value },\n    handleChangeHsv,\n  } = useContext(ColorPickerContext);\n  const matrixRef = useRef<HTMLDivElement>(null);\n\n  const handleChange = (pageX: number, pageY: number): void => {\n    if (!matrixRef.current) {\n      return;\n    }\n\n    const { top, left } = matrixRef.current.getBoundingClientRect();\n    const matrixX = Math.min(Math.max(pageX - left, 0), size);\n    const matrixY = size - Math.min(Math.max(pageY - top, 0), size);\n\n    const newSaturation = parseFloat((matrixX / size).toFixed(2));\n    const newValue = parseFloat((matrixY / size).toFixed(2));\n\n    handleChangeHsv({ saturation: newSaturation, value: newValue });\n  };\n\n  const handleDrag = ({ pageX, pageY }: MouseEvent): void => {\n    handleChange(pageX, pageY);\n  };\n\n  const handleStartDrag = ({\n    pageX,\n    pageY,\n  }: ReactMouseEvent<HTMLDivElement>): void => {\n    handleChange(pageX, pageY);\n    window.addEventListener(\"mousemove\", handleDrag);\n    window.addEventListener(\"mouseup\", handleStopDrag);\n  };\n\n  const handleStopDrag = (): void => {\n    window.removeEventListener(\"mousemove\", handleDrag);\n    window.removeEventListener(\"mouseup\", handleStopDrag);\n  };\n\n  const x = saturation * 100;\n  const y = value * 100;\n\n  return (\n    <MatrixSliderContainer\n      color={HueToHex(hue)}\n      size={size}\n      onMouseDown={handleStartDrag}\n      ref={matrixRef}\n    >\n      <MatrixSliderHandle x={x} y={y} hex={hex} />\n      <MatrixSliderWhiteGradient />\n      <MatrixSliderBlackGradient />\n    </MatrixSliderContainer>\n  );\n};\n\nexport default MatrixSlider;\n"]},"metadata":{},"sourceType":"module"}